extends layout
include utils
append head
  script(src='/javascripts/pet-page.js' type='module')
block content

    div
        h1=pet.name
        image(src=`${pet.image}`)
    div
        p=pet.description
    div
        //displays profiles that likes pet page
    div
        h2=`${pet.name}'s Hooman`
        h2=`Pet Owner: ${pet.User.fullName}`
    div
        h2=`${pet.name}'s Inpawmation`
        div
            p=`Birthday: ${pet.birthday}`
            p=`Pet Type: ${pet.PetType.type}`
            //p= tags
    if (user)
        if (user.id === pet.userId)
            div
                a(href=`/pets/${pet.id}/edit`)
                    button(id='edit-btn') Edit
                a(href=`/pets/${pet.id}/delete`)
                    button(id='delete-btn') Delete

    div
        //comments
        +validationErrorSummary(errors)
        form(action="/comments" method="post")
            input(type="hidden" name="_csrf" value=csrfToken)
            input(type="hidden" name="userId" value=user.id)
            input(type="hidden" name="petId" value=pet.id)
            input(type="text" name="title" placeholder="add a title")
            textarea(name="content" placeholder="add a comment")
            button(type="submit") Submit
    div
        each comment in comments
          div(id=`commentbox-${comment.id}`)
            div= comment.title
            div(id=`post-content-${comment.id}`)= comment.content
            button(type="submit" id=`delete-post-${comment.id}`).deletebtn Delete
            button(type="submit" id=`edit-post-${comment.id}`).editbtn Edit
            form(class="hidden" id=`edit-form-${comment.id}`)
                label(for="content") Content:
                textarea(name="content" id=`content-field-${comment.id}` value=comment.content)
                button(class="edit-submit-btn" id=`edit-btn-${comment.id}`) Submit
